# Описание проекта: 
Проект включает ML модель для прогнозирования цен акций, а также возможность получения информации о компании, последних торгах, получении экспертных рекомендаций. Сейчас проект также содержит публичную базу данных со списком запросов.

### Цель проекта: 
Создание сервиса по предсказанию стоимости акций

### Задачи проекта:
1. Собрать данные и провести разведочный анализ данных;
2. Выбрать данные и сгенерировать дополнительные экзогенные переменные;
3. Протестировать различные ML и DL модели, выбрать оптимальные;
4. Реализовать сервис для ML и DL прогнозирования;
5. Разработать чат-бот в Телеграмм;
6. Объединить сервис и чат-бот в единый продукт;
7. Написать тесты и провести тестирование продукта.


### Автор проекта

| Имя | Телеграм | 
|----------|----------|
| Алексеев Павел | @pavel0420 |

### Куратор

| Имя | Телеграм | 
|----------|----------|
| Фофанова Татьяна | @tfofanova |


## Организация проекта: 
	├─ fastapi_app 				<- Директория приложения FastAPI (ML часть проекта)
	│  ├─ Dockerfile
	│  ├─ fastapi_app.py			<- Приложение FastAPI
	│  ├─ model_data
	│  │  ├─ GB_model.pkl			<- Предобученная модель Градиентного бустинга
	│  │  └─ lambda_val.pkl			<- Параметр λ для трансформации Бокса-Кокса
	│  ├─ requirements.txt
	│  └─ test_fastapi_app.py  		<- Тестирование приложения FastAPI
	│
	├─ telegram_bot				<- Директория Telegram бота
	│  ├─ Dockerfile
	│  ├─ bot.py				<- Приложение FastAPI
	│  ├─ requirements.txt
	│  └─ test_bot.py			<- Тестирование Telegram бота
	│
	├─ docker-compose.yaml
	│
	├─ notebooks				<- Jupyter-ноутбуки
	│  ├─ EDA.ipynb				<- Разведочный анализ данных
	│  ├─ ML_model_analysis.ipynb		<- Обучение ML модели
	│
	├─ presentations
	│  └─ ML_model_analysis.pdf		<- Обучение ML модели
	│
	└─ README.md				<- Описание проекта

## Roadmap

- [x] **Создание приложений**
  - [x] Telegram бот
  - [x] FastAPI приложение для ML модели
  - [x] FastAPI приложение для DL модели

- [x] **Обучение ML модели**
  - [x] Загрузка данных
  - [x] Предобработка данных
  - [x] Генерация лаговых и иных признаков
  - [x] Обучение и тюнинг модели Градиентного бустинга
  - [x] Обучение и тюнинг модели Случайного леса
  - [x] Сохранение итоговой ML модели

- [x] **Обучение DL модели**
  - [x] Загрузка данных
  - [x] Предобработка данных
  - [x] Генерация лаговых и иных признаков
  - [x] Создание архитектуры нейронной сети
  - [x] Компиляция модели с выбором функции потерь и оптимизатора
  - [x] Обучение и тюнинг моделей
  - [x] Сохранение итоговой DL модели

- [x] **Создание сервисов**
  - [x] Последние данные о торгах
  - [x] Информация о компании
  - [x] Экспертные рекомендации
  - [x] ML предсказание стоимости акций
  - [x] DL предсказание стоимости акций

## Как запустить проект: 

- Клонировать репозиторий:
> git clone https://github.com/alekseevpavel04/project.git
- Заходим в папку project:
> cd project
- Создаем файл окружения с указанием токена:
> echo "TELEGRAM_TOKEN=YOUR_TG_TOKEN" > .env
- Запускаем docker-compose:
> docker-compose up

## Тестирование: 
- Приложение FastAPI_app:
> Запустить "pytest" из папки FastAPI_app
- Приложение Telegram_app:
> Запустить "pytest -s" из папки Telegram_app

	Важно 1: Тестирование Telegram_app запросит логин и код от тестового аккаунта (подойдет любой)
 	Важно 2: Для тестирования Telegram_app необходимо сначала запустить проект целиком (docker-compose up)
	Важно 3: Не забудьте создать виртуальное окружение и установить необходимые библиотеки

## Пример работы бота Telegram
![example](https://github.com/alekseevpavel04/project/assets/48567496/62c323da-90a8-41ca-8704-83787ac4557f)
